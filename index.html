<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cricscore | Fast Live Cricket Live Line, Ball-by-Ball Score, IPL, PSL | Microbuzz Tech</title>
  <link rel="icon" type="image/png" sizes="32x32" href="favicon.ico">

  <!-- SEO META DESCRIPTION -->
  <meta name="description"
    content="Live Cricket TV & Score by Microbuzz Tech offers Cricshow-style fast live cricket scores, ball-by-ball updates, Hindi & English commentary, IPL, PSL, CPL, BPL, T20 World Cup, match schedules, odds history, fixtures, ranking, and complete live cricket coverage.">

  <!-- SEO KEYWORDS -->
  <meta name="keywords"
    content="Live Cricket TV, Live Cricket Score, Cricket Live Line, Cricshow, Ball by Ball Score, Live Cricket Commentary, Hindi Commentary, English Commentary, IPL Live Score, PSL Live Score, BPL, CPL, T20 World Cup, ODI World Cup, ICC Test Championship, Cricket Odds, Cricket Sessions, Live Scorecard, Microbuzz Tech">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap">
  <!-- SEO Structured Data (Google Rich Results) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Microbuzz Tech",
    "url": "https://cricketscorelive.github.io/",
    "logo": "https://cricketscorelive.github.io/logo.png",
    "description": "cricscore by Microbuzz Tech developed by Microbuzz Tech provides Cricshow-style fast live line, cricket score updates, ball-by-ball commentary, match schedules, odds with history, sessions, fixtures, IPL, PSL, CPL, BPL, T20 World Cup and more.",
    "sameAs": []
  }
  </script>
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: #f5f5f5;
    }

    header, footer {
      background: #0a1a44;
      color: #fff;
      text-align: center;
      padding: 14px;
    }

    /* ===== TAB LAYOUT ===== */
    .tabs {
      display: flex;
      background: #1fa84f; /* GREEN background */
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }

    .tabs::-webkit-scrollbar {
      display: none;
    }

    .tab {
      flex: 0 0 auto;
      min-width: 90px;
      text-align: center;
      padding: 12px 8px;
      cursor: pointer;
      font-size: 13px;
      color: #ffffff; /* UNSELECTED = WHITE */
      transition: background 0.2s ease, color 0.2s ease;
    }

    .tab i {
      display: block;
      font-size: 18px;
      margin-bottom: 4px;
      color: inherit;
    }

    /* ===== SELECTED TAB ===== */
    .tab.active {
      color: #000000; /* BLACK */
      font-weight: 600;
      background: rgba(255,255,255,0.25);
      border-bottom: 3px solid #000;
    }

    /* ===== FRAME LAYOUT ===== */
    #frameLayout {
      background: #ffffff;
      min-height: calc(100vh - 160px);
      padding: 16px;
    }

    /* ===== DESKTOP ===== */
    @media (min-width: 768px) {
      .tabs {
        justify-content: space-around;
        overflow-x: hidden;
      }
      .tab {
        flex: 1;
      }
    }
  </style>
</head>

<body>

<div id="header"></div>

<!-- ===== TABLAYOUT ===== -->
<div class="tabs">
  <div class="tab" data-fragment="home">
    <i class="fa fa-house"></i>Home
  </div>
  <div class="tab" data-fragment="live">
    <i class="fa fa-broadcast-tower"></i>Live
  </div>
  <div class="tab" data-fragment="recent">
    <i class="fa fa-clock-rotate-left"></i>Recent
  </div>
  <div class="tab" data-fragment="upcoming">
    <i class="fa fa-calendar"></i>Upcoming
  </div>
  <div class="tab" data-fragment="livestreaming">
    <i class="fa fa-tv"></i>Streaming
  </div>
</div>

<!-- ===== FRAME LAYOUT ===== -->
<div id="frameLayout"></div>

<div id="footer"></div>

<script>
  async function load(file, element) {
    const html = await fetch(file).then(res => res.text());
    document.getElementById(element).innerHTML = html;
  }

  load("header.html", "header");
  load("footer.html", "footer");
</script>

<script type="module">
  import { getLiveStreams } from "./api/livestreamingApi.js";
  import { LiveStreamingAdapter } from "./adapters/livestreamingAdapter.js";

  const frameLayout = document.getElementById("frameLayout");
  const tabs = document.querySelectorAll(".tab");

  async function loadFragment(name) {
    try {
      const res = await fetch(`fragments/${name}.html`);
      frameLayout.innerHTML = await res.text();

      if (name === "livestreaming") {
        loadLiveStreaming();
      }
    } catch {
      frameLayout.innerHTML = "<p>Fragment not found</p>";
    }
  }

  function openFragment(name) {
    tabs.forEach(t => t.classList.remove("active"));
    document.querySelector(`.tab[data-fragment="${name}"]`)?.classList.add("active");

    window.location.hash = name;
    loadFragment(name);
  }

  tabs.forEach(tab => {
    tab.addEventListener("click", () => openFragment(tab.dataset.fragment));
  });

  function handleHash() {
    const fragment = window.location.hash.replace("#", "") || "home";
    openFragment(fragment);
  }

  window.addEventListener("hashchange", handleHash);
  handleHash();

  async function loadLiveStreaming() {
    const recyclerView = document.getElementById("recyclerView");
    if (!recyclerView) return;

    recyclerView.innerHTML = "Loading...";

    try {
      const data = await getLiveStreams();
      recyclerView.innerHTML = LiveStreamingAdapter(data);
    } catch {
      recyclerView.innerHTML = "Failed to load live streams";
    }
  }
</script>

</body>
</html>
