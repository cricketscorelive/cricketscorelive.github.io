<link rel="stylesheet" href="styles/upcoming.css">

<h2>ðŸ“… Upcoming Matches</h2>
<div id="recyclerView"></div>

<script type="module">
  import { getMatches } from "../api/upcomingApi.js";
  import { UpcomingAdapter } from "../adapters/upcomingAdapter.js";

  async function loadData() {
    const rv = document.getElementById("recyclerView");
    if (!rv) return;

    rv.innerHTML = "Loading...";

    try {
      const data = await getMatches();
      rv.innerHTML = UpcomingAdapter(data.upcomingFixtures);
    } catch (e) {
      console.error(e);
      rv.innerHTML = "Failed to load";
    }
  }

  // same trick you used for livestreaming
  requestAnimationFrame(loadData);
</script>
